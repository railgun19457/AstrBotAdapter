# AstrBot 适配器 配置文件

# WebSocket 服务器设置
websocket:
  enabled: true
  host: "0.0.0.0"      # 监听地址（一般保持 0.0.0.0 即可）
  port: 8765            # 监听端口
  # 认证 Token（首次启动若为空，将自动生成并写回配置）
  token: "your_secure_token_here"
  # 速率限制设置
  rate-limit:
    enabled: true
    count: 5          # 每个连接在一个时间窗口内允许的最大聊天消息条数
    window-ms: 3000   # 时间窗口长度（毫秒）

# REST API 设置
rest-api:
  enabled: true
  host: "0.0.0.0"      # 监听地址（一般保持 0.0.0.0 即可）
  port: 8766            # 监听端口
  # 认证 Token（首次启动若为空，将自动生成并写回配置）
  token: "your_secure_token_here"

# 消息设置
message:
  # 转发前缀：只有以此前缀开头的消息才会被转发到外部
  # 留空（""）表示转发所有消息
  # 例如：设置为 "!" 时，只有 "!hello" 这样的消息才会被转发
  # 转发时会自动移除前缀
  forward-prefix: ""
  # 发送到 AstrBot 的消息格式
  # 可用占位符：{player}, {message}
  chat-format: "[{player}] {message}"
  # 从 AstrBot 发回并在 Minecraft 内展示的消息格式
  # 可用占位符：{sender}, {message}
  # 注意：当 sender 或 message 缺省或为空时，会把对应占位符替换为 ""
  incoming-format: "§7[§bAstrBot§7] §7<§e{sender}§7> §f{message}"
  # 是否启用玩家加入/离开提示广播
  notify-join: true
  notify-leave: true
  # 加入/离开提示的格式（可使用 {player}）
  join-format: "§7{player} joined the game"
  leave-format: "§7{player} left the game"

# 服务器状态设置
status:
  # 状态刷新间隔（秒）
  update-interval: 30
  # 是否启用 TPS 监测
  enable-tps: true
  # 是否启用内存监测
  enable-memory: true

# 调试模式（开启后会输出更多日志）
debug: false
